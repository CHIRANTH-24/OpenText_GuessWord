{% extends "base.html" %}

{% block title %}Home - Guess The Word{% endblock %}

{% block content %}
<div class="home-container">
    {% if user.is_authenticated %}
        <h2>Welcome back, {{ user.username }}!</h2>
        
        <div class="stats-card">
            <h3>Today's Stats</h3>
            <p><strong>Games played:</strong> {{ games_played_today }}/3</p>
            <p><strong>Games remaining:</strong> {{ games_remaining }}</p>
        </div>

        {% if active_game %}
            <div class="action-card">
                <h3>You have an active game!</h3>
                <p>Continue your current game before starting a new one.</p>
                <a href="{% url 'game_detail' active_game.id %}" class="btn btn-primary">
                    Continue Game
                </a>
            </div>
        {% elif games_remaining > 0 %}
            <div class="action-card">
                <h3>Ready to play?</h3>
                <p>Try to guess the 5-letter word in 5 attempts or less!</p>
                <form method="post" action="{% url 'start_game' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary btn-large">
                        Start New Game
                    </button>
                </form>
            </div>
        {% else %}
            <div class="action-card">
                <h3>Daily Limit Reached</h3>
                <p>You've played all 3 games for today. Come back tomorrow for more!</p>
            </div>
        {% endif %}

        <div class="how-to-play">
            <h3>How to Play</h3>
            <ul>
                <li>Guess the 5-letter word in 5 tries</li>
                <li>Each guess must be a valid 5-letter word</li>
                <li>After each guess, the color of the tiles will change:</li>
            </ul>
            <div class="color-legend">
                <div class="legend-item">
                    <span class="cell green">A</span>
                    <span>Letter is correct and in the right position</span>
                </div>
                <div class="legend-item">
                    <span class="cell orange">B</span>
                    <span>Letter is correct but in the wrong position</span>
                </div>
                <div class="legend-item">
                    <span class="cell grey">C</span>
                    <span>Letter is not in the word</span>
                </div>
            </div>
        </div>
    {% else %}
        <div class="welcome-container">
            <h2>Welcome to Guess The Word!</h2>
            <p>A Wordle-style word guessing game. Test your vocabulary and logic skills!</p>
            
            <div class="cta-buttons">
                <a href="{% url 'signup' %}" class="btn btn-primary btn-large">Sign Up to Play</a>
                <a href="{% url 'login' %}" class="btn btn-secondary">Login</a>
            </div>

            <div class="how-to-play">
                <h3>How to Play</h3>
                <ul>
                    <li>Guess the 5-letter word in 5 tries</li>
                    <li>Play up to 3 games per day</li>
                    <li>Get color-coded feedback after each guess</li>
                    <li>Track your progress over time</li>
                </ul>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

